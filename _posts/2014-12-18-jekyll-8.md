---
layout: post
title: "jekyll-8"
description: 
headline: 
modified: 2014-12-18
category: personal
tags: []
image: 
  feature: 
comments: true
mathjax: 
---

[站点地图][1]是什么？顾名思义它类似于一个网站的地图，站点地图不是给我们人去看的，它是为了能让搜索引擎更好地去抓取我们的网站内容。它包含了一个网站的内容链接，标题，更新时间等信息，更详细的站点地图还有更新频率。

而jekyll默认的模板并没有包含帮助我们生成站点地图的功能，因此我们需要查阅[文档][2]去了解站点地图的格式。这种格式是谷歌，雅虎明确表示支持的(百度你个奇葩！)。

下面给出了`sitemap.xml`的最小格式(这里的标签都是必须的):

```xml
<?xml version="1.0" encoding="UTF-8"?>

<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">

   <url>

      <loc>http://www.example.com/</loc>

   </url>

</urlset>
```

我们再去查阅jekyll的相关[变量][3]，并用变量替换时间的链接地址就可以完成了。

我们在博客根目录新建一个`sitemap.xml`文件，下面是`sitemap.xml`的代码，

```xml
---
---
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
    {% for post in site.posts %}
    <url>
        <loc>{{ site.url }}{{ post.url }}</loc>
    </url>
    {% endfor %}
</urlset>
```

开头的两行`---`头信息是为了告诉jekyll要去处理这个文件，然后就用遍历去给每篇文章生成一个链接。

博客的目录结构：

```
|- about.md
|
|- coderq.md
|
|- _config.yml
|
|- css-|
|      |- main.scss
|
|- feed.xml
|
|- _includes-|
|            |- footer.html
|            |- header.html
|            |- head.html
|            |- duoshuo_comments.html
|            |- scripts.html
|
|- _layouts-|
|           |- default.html
|           |- page.html
|           |- post.html
|
|- _posts-|
|         |- 2014-12-15-welcome-to-jekyll.markdown
|         |- 2014-12-16-welcome-to-coderq.md
|
|- _sass-|
|        |- _base.scss
|        |- _layout.scss
|        |- _syntax-highlighting.scss
|
|- _site
|
|- sitemap.xml
```

现在访问 <http://127.0.0.1:4000/sitemap.xml>就可以看到站点地图了。


有了站点地图，就可以向搜索引擎提交你的站点地图。

[1]: http://www.sitemaps.org

[2]: http://www.sitemaps.org/protocol.html

[3]: http://jekyllrb.com/docs/variables/
