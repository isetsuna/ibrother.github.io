---
layout: post
title: "jekyll-5"
description: 
headline: 
modified: 2014-12-16
category: personal
tags: []
image: 
  feature: 
comments: true
mathjax: 
---

终于跟着教程做完了第四篇，首页已经实现了分页，我又加进了一篇"文章"，现在让我们先先停下前进的脚步，回过头来阅读一篇博客，就从这第一篇开始吧。


好不容易读完，接着你又想接着浏览下一篇博文，这个时候你会发现这都什么阅读体验？我只想做个安安静静看文章的美男子，还要点那么多次鼠标，差评！

亲，稍安勿躁，咱这就改改改！因此接下来我们希望实现文章布局中的导航功能。

先整理一下思路，之前为了加上分页器，我们对首页`index.html`做了改动，这回类似于给文章页面加上分页器(jekyll只能在首页使用分页器)。

不知道亲是不是猜到了，我们将通过修改`_layouts/post.html`这个文章布局文件来实现。我们来给他加上下面的几行代码

```html
<nav>
    {% if page.previous %}
    <a href="{{ page.previous.url }}">Previous Post</a>
    {% endif %}
    {% if page.next %}
    <a href="{{ page.next.url }}">Next Post</a>
    {% endif %}
</nav>
```

这段代码啥意思呢，就是在遍历每一篇文章，为每一篇文章生成页面的时候，都会作个判断，如果我的后面有一篇文章，链接为后一篇文章的地址，按钮显示为"Previous Post"。如果我的前面有一篇文章，链接为前一篇文章的地址,按钮显示为"Next Post"。

`_layouts/post.html`变成了下面这个样子：

```html
---
layout: default
---
<div class="post">

  <header class="post-header">
    <h1 class="post-title">{{ page.title }}</h1>
    <p class="post-meta">{{ page.date | date: "%b %-d, %Y" }}{% if page.author %} • {{ page.author }}{% endif %}{% if page.meta %} • {{ page.meta }}{% endif %}</p>
  </header>

  <article class="post-content">
    {{ content }}
  </article>

  <nav>
      {% if page.previous %}
      <a href="{{ page.previous.url }}">Previous Post</a>
      {% endif %}
      {% if page.next %}
      <a href="{{ page.next.url }}">Next Post</a>
      {% endif %}
  </nav>

</div>
```

好，我们可以刷新浏览器看看，咦，它 变 了！虽然不好看(因为我们没有去加样式)，但是基本的功能实现了。


接着我们将加进去的代码改进一下，就像下面的样子：

```html
<nav>
    {% if page.previous %}
    <a href="{{ page.previous.url }}" title="{{ page.previous.title }}">&larr; Previous Post</a>
    {% endif %}
    {% if page.next %}
    <a href="{{ page.next.url }}" title="{{ page.next.title }}">Next Post &rarr;</a>
    {% endif %}
</nav>
```

这里，我们给链接按钮加上提示，当鼠标移动到按钮时显示链接文章的标题，另一处修改是加上了箭头

最终`_layouts/post.html`的代码如下：

```html
---
layout: default
---
<div class="post">

  <header class="post-header">
    <h1 class="post-title">{{ page.title }}</h1>
    <p class="post-meta">{{ page.date | date: "%b %-d, %Y" }}{% if page.author %} • {{ page.author }}{% endif %}{% if page.meta %} • {{ page.meta }}{% endif %}</p>
  </header>

  <article class="post-content">
    {{ content }}
  </article>

  <nav>
    {% if page.previous %}
    <a href="{{ page.previous.url }}" title="{{ page.previous.title }}">&larr; Previous Post</a>
    {% endif %}
    {% if page.next %}
    <a href="{{ page.next.url }}" title="{{ page.next.title }}">Next Post &rarr;</a>
    {% endif %}
  </nav>

</div>
```

我们再次刷新浏览器看一下，是不是好看一些了。至此文章导航功能完成！
